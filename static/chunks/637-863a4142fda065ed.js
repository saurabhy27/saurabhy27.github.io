(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{4564:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{children:t}=e;return t},t.suspense=function(){let e=Error(o.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=o.NEXT_DYNAMIC_NO_SSR_CODE,e},(0,n(2648).Z)(n(7294));var o=n(2983)},7645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let n=s.default,r={loading:e=>{let{error:t,isLoading:n,pastDelay:o}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r=o({},r,e)),r=o({},r,t);let i=r.loader,a=()=>i().then(l);if(r.loadableGenerated&&delete(r=o({},r,r.loadableGenerated,{loader:a})).loadableGenerated,"boolean"==typeof r.ssr){if(!r.ssr)return delete r.ssr,u(a,r);delete r.ssr}return n(r)},t.noSSR=u;var o=n(6495).Z,r=n(2648).Z,i=(0,n(1598).Z)(n(7294)),s=r(n(4588)),a=r(n(4564));function l(e){return{default:e.default||e}}function u(e,t){delete t.webpack,delete t.modules;let n=i.lazy(e),o=t.loading,r=i.default.createElement(o,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1});return e=>i.default.createElement(i.Suspense,{fallback:r},i.default.createElement(a.default,null,i.default.createElement(n,Object.assign({},e))))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3644:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var o=(0,n(2648).Z)(n(7294));let r=o.default.createContext(null);t.LoadableContext=r},4588:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(6495).Z,r=(0,n(2648).Z)(n(7294)),i=n(3644);let s=[],a=[],l=!1;function u(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class d{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t);n.lazy=r.default.lazy(n.loader);let o=null;function s(){if(!o){let t=new d(e,n);o={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return o.promise()}if(!l){let u=n.webpack?n.webpack():n.modules;u&&a.push(e=>{for(let t of u)if(-1!==e.indexOf(t))return s()})}function c(e){!function(){s();let e=r.default.useContext(i.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let t=r.default.createElement(n.loading,{isLoading:!0,pastDelay:!0,error:null});return r.default.createElement(r.default.Suspense,{fallback:t},r.default.createElement(n.lazy,e))}return c.preload=()=>s(),c.displayName="LoadableComponent",c}(u,e)}function p(e,t){let n=[];for(;e.length;){let o=e.pop();n.push(o(t))}return Promise.all(n).then(()=>{if(e.length)return p(e,t)})}c.preloadAll=()=>new Promise((e,t)=>{p(s).then(e,t)}),c.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let n=()=>(l=!0,t());p(a,e).then(n,n)})},window.__NEXT_PRELOADREADY=c.preloadReady,t.default=c},479:function(){},5152:function(e,t,n){e.exports=n(7645)},1239:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=s(n(7294)),i=s(n(9281));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1,modalVideoWidth:"100%"},n.closeModal=n.closeModal.bind(n),n.updateFocus=n.updateFocus.bind(n),n.timeout,n}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"openModal",value:function(){this.setState({isOpen:!0})}},{key:"closeModal",value:function(){this.setState({isOpen:!1}),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"keydownHandler",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler.bind(this)),window.addEventListener("resize",this.resizeModalVideoWhenHeightGreaterThanWindowHeight.bind(this)),this.setState({modalVideoWidth:this.getWidthFulfillAspectRatio(this.props.ratio,window.innerHeight,window.innerWidth)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler.bind(this)),window.removeEventListener("resize",this.resizeModalVideoWhenHeightGreaterThanWindowHeight.bind(this))}},{key:"componentDidUpdate",value:function(){this.state.isOpen&&this.modal&&this.modal.focus()}},{key:"updateFocus",value:function(e){9===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.modal===document.activeElement?this.modalbtn.focus():this.modal.focus())}},{key:"resizeModalVideoWhenHeightGreaterThanWindowHeight",value:function(){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){var t=e.getWidthFulfillAspectRatio(e.props.ratio,window.innerHeight,window.innerWidth);e.state.modalVideoWidth!=t&&e.setState({modalVideoWidth:t})},10)}},{key:"getQueryString",value:function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&(t+=n+"="+e[n]+"&");return t.substr(0,t.length-1)}},{key:"getYoutubeUrl",value:function(e,t){return"//www.youtube.com/embed/"+t+"?"+this.getQueryString(e)}},{key:"getVimeoUrl",value:function(e,t){return"//player.vimeo.com/video/"+t+"?"+this.getQueryString(e)}},{key:"getYoukuUrl",value:function(e,t){return"//player.youku.com/embed/"+t+"?"+this.getQueryString(e)}},{key:"getVideoUrl",value:function(e,t){return"youtube"===e.channel?this.getYoutubeUrl(e.youtube,t):"vimeo"===e.channel?this.getVimeoUrl(e.vimeo,t):"youku"===e.channel?this.getYoukuUrl(e.youku,t):"custom"===e.channel?e.url:void 0}},{key:"getPadding",value:function(e){var t=e.split(":"),n=Number(t[0]);return 100*Number(t[1])/n+"%"}},{key:"getWidthFulfillAspectRatio",value:function(e,t,n){var o=e.split(":"),r=Number(o[0]),i=Number(o[1]);return t<n*(i/r)?Math.floor(r/i*t):"100%"}},{key:"render",value:function(){var e=this,t={width:this.state.modalVideoWidth},n={paddingBottom:this.getPadding(this.props.ratio)};return r.default.createElement(i.default,{classNames:this.props.classNames.modalVideoEffect,timeout:this.props.animationSpeed},function(){return e.state.isOpen?r.default.createElement("div",{className:e.props.classNames.modalVideo,tabIndex:"-1",role:"dialog","aria-label":e.props.aria.openMessage,onClick:e.closeModal,ref:function(t){e.modal=t},onKeyDown:e.updateFocus},r.default.createElement("div",{className:e.props.classNames.modalVideoBody},r.default.createElement("div",{className:e.props.classNames.modalVideoInner,style:t},r.default.createElement("div",{className:e.props.classNames.modalVideoIframeWrap,style:n},r.default.createElement("button",{className:e.props.classNames.modalVideoCloseBtn,"aria-label":e.props.aria.dismissBtnMessage,ref:function(t){e.modalbtn=t},onKeyDown:e.updateFocus}),e.props.children||r.default.createElement("iframe",{width:"460",height:"230",src:e.getVideoUrl(e.props,e.props.videoId),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:e.props.allowFullScreen,tabIndex:"-1"}))))):null})}}],[{key:"getDerivedStateFromProps",value:function(e){return{isOpen:e.isOpen}}}]),t}(r.default.Component);t.Z=a,a.defaultProps={channel:"youtube",isOpen:!1,youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",mute:0},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,height:null,loop:!1,maxheight:null,maxwidth:null,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},youku:{autoplay:1,show_related:0},allowFullScreen:!0,animationSpeed:300,classNames:{modalVideoEffect:"modal-video-effect",modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just opened the modal video",dismissBtnMessage:"Close the modal by clicking here"}}},9281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o=n(7462),r=n(3366),i=n(9611);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,i.Z)(e,t)}function a(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(7294),u=n(3935),d={disabled:!1},c=l.createContext(null),p=function(e){return e.scrollTop},f="unmounted",h="exited",m="entering",b="entered",y="exiting",g=function(e){function t(t,n){o=e.call(this,t,n)||this;var o,r,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(r=h,o.appearStatus=m):r=b:r=t.unmountOnExit||t.mountOnEnter?f:h,o.state={status:r},o.nextCallback=null,o}s(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:h}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==b&&(t=m):(n===m||n===b)&&(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!=typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===m){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);n&&p(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===h&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,o=this.context?this.context.isMounting:e,r=this.props.nodeRef?[o]:[u.findDOMNode(this),o],i=r[0],s=r[1],a=this.getTimeouts(),l=o?a.appear:a.enter;if(!e&&!n||d.disabled){this.safeSetState({status:b},function(){t.props.onEntered(i)});return}this.props.onEnter(i,s),this.safeSetState({status:m},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:b},function(){t.props.onEntered(i,s)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:u.findDOMNode(this);if(!t||d.disabled){this.safeSetState({status:h},function(){e.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:y},function(){e.props.onExiting(o),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:h},function(){e.props.onExited(o)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),o=null==e&&!this.props.addEndListener;if(!n||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],s=r[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(c.Provider,{value:null},"function"==typeof n?n(e,o):l.cloneElement(l.Children.only(n),o))},t}(l.Component);function v(){}g.contextType=c,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},g.UNMOUNTED=f,g.EXITED=h,g.ENTERING=m,g.ENTERED=b,g.EXITING=y;var E=function(e,t){return e&&t&&t.split(" ").forEach(function(t){var n;(n=e).classList?n.classList.remove(t):"string"==typeof n.className?n.className=a(n.className,t):n.setAttribute("class",a(n.className&&n.className.baseVal||"",t))})},x=function(e){function t(){for(var t,n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1];t.removeClasses(r,"exit"),t.addClass(r,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1];t.addClass(r,i?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.resolveArguments(e,n),r=o[0],i=o[1]?"appear":"enter";t.removeClasses(r,i),t.addClass(r,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,o="string"==typeof n,r=o?(o&&n?n+"-":"")+e:n[e],i=o?r+"-active":n[e+"Active"],s=o?r+"-done":n[e+"Done"];return{baseClassName:r,activeClassName:i,doneClassName:s}},t}s(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var o,r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&p(e),r&&(this.appliedClasses[t][n]=r,o=r,e&&o&&o.split(" ").forEach(function(t){var n,o;return n=e,o=t,void(n.classList?n.classList.add(o):(n.classList?o&&n.classList.contains(o):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+o+" "))||("string"==typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],o=n.base,r=n.active,i=n.done;this.appliedClasses[t]={},o&&E(e,o),r&&E(e,r),i&&E(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,r.Z)(e,["classNames"]));return l.createElement(g,(0,o.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);x.defaultProps={classNames:""},x.propTypes={};var w=x},7462:function(e,t,n){"use strict";function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return o}})},3366:function(e,t,n){"use strict";function o(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:function(){return o}})},9611:function(e,t,n){"use strict";function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return o}})},3143:function(e,t,n){"use strict";n.d(t,{ri:function(){return g},ck:function(){return E}});var o=n(5826),r=n(7294),i=n(3935),s=n(5697);class a extends Error{constructor(){super(...arguments),this.message=`No valid \`ref\` provided.
You should use \`ref\` from render prop of Item component.
Example:
<Item>{({ ref }) => <div ref={ref}></div>}</Item>
`}}var l=function(e,t){if(!(e instanceof Element))throw new a;return e===t?0:2&e.compareDocumentPosition(t)?1:-1},u=function(e){return Object.entries(e).map(([e,t])=>t?`${e}=${t}`:e).join("&")},d=function(e){return e.split("&").reduce((e,t)=>{let[n,o]=t.split("=");return n&&(e[n]=o),e},{})},c=function(e){let t=d(e);return delete t.gid,delete t.pid,u(t)},p=function(){return window.location.hash.substring(1)},f=function(){return`${window.location.pathname}${window.location.search}`};let h=r.createContext({remove:()=>{},set:()=>{},handleClick:()=>{},open:()=>{}});class m{constructor(e){this.pswp=e,this.on=e.on.bind(e),this.off=e.off.bind(e),this.dispatch=e.dispatch.bind(e)}}var b=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let y=null,g=({children:e,options:t,plugins:n,uiElements:s,id:a,onBeforeOpen:g,onOpen:v,withCaption:E,withDownloadButton:x})=>{let[w,O]=(0,r.useState)(null),_=(0,r.useRef)(new Map),C=(0,r.useRef)(null),k=(0,r.useCallback)((e,r,d,h)=>{if(y)return;let w=d||null,C=[],k=Array.from(_.current),N=(t,n)=>{let[o,i]=t,{width:s,height:a,original:l,originalSrcset:u,thumbnail:d,cropped:c,content:p,id:f}=i,h=b(i,["width","height","original","originalSrcset","thumbnail","cropped","content","id"]);(e===o||void 0!==f&&String(f)===r)&&(w=n),C.push(Object.assign(Object.assign(Object.assign({w:Number(s),h:Number(a),src:l,srcset:u,msrc:d,element:o.current,thumbCropped:c,content:p},void 0!==p?{type:"html"}:{}),void 0!==f?{pid:f}:{}),h))};_.current.size>1?k.sort(([{current:e}],[{current:t}])=>l(e,t)).forEach(N):k.forEach(N);let S=h&&void 0!==h.clientX&&void 0!==h.clientY?{x:h.clientX,y:h.clientY}:null,T=new o.Z(Object.assign({dataSource:C,index:null===w?parseInt(r,10)-1:w,initialPointerPos:S},t||{}));y=T,T.on("contentActivate",({content:e})=>{e.data.content?O((0,i.createPortal)(e.data.content,e.element)):O(null)}),T.on("close",()=>{O(null)}),x&&T.on("uiRegister",()=>{T.ui.registerElement({name:"download-button",ariaLabel:"Download",order:8,isButton:!0,tagName:"a",appendTo:"bar",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(e,t)=>{e.setAttribute("download",""),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),T.on("change",()=>{let n=e;n.href=t.currSlide.data.src})}})}),E&&T.on("uiRegister",()=>{T.ui.registerElement({name:"default-caption",order:9,isButton:!1,appendTo:"root",onInit:(e,t)=>{e.style.position="absolute",e.style.bottom="15px",e.style.left="0",e.style.right="0",e.style.padding="0 20px",e.style.color="var(--pswp-icon-color)",e.style.textAlign="center",e.style.fontSize="14px",e.style.lineHeight="1.5",e.style.textShadow="1px 1px 3px var(--pswp-icon-color-secondary)",T.on("change",()=>{let{caption:n,alt:o}=t.currSlide.data;e.innerHTML=n||o||""})}})}),Array.isArray(s)&&s.forEach(e=>{T.on("uiRegister",()=>{T.ui.registerElement(e)})}),"function"==typeof n&&n(new m(T)),"function"==typeof g&&g(T),T.on("change",()=>{if(void 0===a)return;let e=T.currSlide.data.pid||T.currIndex+1,t=f(),n=c(p()),o=u({gid:a,pid:e}),r=`${t}#${n}&${o}`;window.history.pushState({},document.title,r)}),T.on("destroy",()=>{if(void 0!==a){let e=f(),t=c(p()),n=`${e}${t?`#${t}`:""}`;window.history.pushState({},document.title,n)}y=null}),T.init(),"function"==typeof v&&v(T)},[t,n,s,a,g,v,E,x]);(0,r.useEffect)(()=>()=>{y&&y.close()},[]),(0,r.useEffect)(()=>{if(void 0===a)return;let e=p();if(e.length<5)return;let t=d(e),{pid:n,gid:o}=t;if(n&&o){if(0===_.current.size){C.current=n;return}n&&o===String(a)&&k(null,n)}},[k,a]);let N=(0,r.useCallback)(e=>{_.current.delete(e)},[]),S=(0,r.useCallback)((e,t)=>{let{id:n}=t;if(_.current.set(e,t),null!==C.current){if(n===C.current){k(e),C.current=null;return}if(!n){let o=parseInt(C.current,10)-1,r=Array.from(_.current.keys())[o];r&&(k(r),C.current=null)}}},[k]),T=(0,r.useCallback)(e=>{k(null,null,e)},[k]),j=(0,r.useMemo)(()=>({remove:N,set:S,handleClick:k,open:T}),[N,S,k,T]);return r.createElement(h.Provider,{value:j},e,w)};g.propTypes={children:s.any,options:s.object,plugins:s.func,uiElements:s.array,id:s.oneOfType([s.string,s.number]),onBeforeOpen:s.func,onOpen:s.func,withCaption:s.bool,withDownloadButton:s.bool};var v=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)0>t.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};let E=e=>{var{children:t}=e,n=v(e,["children"]);let o=(0,r.useRef)(),{remove:i,set:s,handleClick:a}=(0,r.useContext)(h),l=(0,r.useCallback)(e=>a(o,null,null,e),[]);return(0,r.useEffect)(()=>(s(o,n),()=>i(o)),Object.values(n)),t({ref:o,open:l})};E.propTypes={children:s.func.isRequired,original:s.string,originalSrcset:s.string,thumbnail:s.string,width:s.oneOfType([s.number,s.string]),height:s.oneOfType([s.number,s.string]),alt:s.string,caption:s.string,content:s.element,html:s.string,id:s.oneOfType([s.number,s.string]),cropped:s.bool}}}]);